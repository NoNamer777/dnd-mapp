<div class="input-container" (click)="onClick()">
    @if (label) {
        <div
            class="input-border-breaker"
            [style.width]="getLabelWidth(labelElement.clientWidth)"
            [@inputBorder]="animationState"
        ></div>
        <label #labelElement [@inputLabel]="animationState">{{ label }}</label>
    }
    <ng-content select="dma-icon.leading-icon"></ng-content>
    <input
        #input
        [size]="size"
        [type]="inputType"
        [disabled]="disabled"
        [readOnly]="readonly"
        [value]="value"
        [autocomplete]="autocomplete"
        [autofocus]="autofocus"
        (input)="onValueChange($event)"
        (focus)="onFocus()"
        (blur)="onBlur()"
    />
    @if (invalid) {
        <dma-icon icon="circle-exclamation" class="trailing-icon"></dma-icon>
    } @else {
        <ng-content select="dma-icon.trailing-icon"></ng-content>
    }
</div>
<p class="input-support">
    @if (invalid && errorMessage) {
        <span class="text">{{ errorMessage }}</span>
    } @else if (supportingText) {
        <span class="text">{{ supportingText }}</span>
    }
</p>
